## 認証認可に関する脆弱性まとめ

# 認証時
<dl>
  <dt>1. ランダムなログイン試行時のエラーメッセージによるID列挙</dt>
  <dd>ログインエラーメッセージを詳細に表示することで攻撃者に攻撃のヒントを与えてしまう。</dd>
  <dd>[対策]　エラーメッセージは「ログインできません」等として対象のIDがアクティブユーザーIDなのか不明な実装にする。</dd>
  <dt>2. SQLインジェクション攻撃によるパスワード入手</dt>
  <dd>クライアントからクエリを追加したり、コメントアウトできる仕様になっている事が原因</dd>
  <dd>[対策]　フレームワークを利用する。JavaならSpringBootのJPAを継承しDB操作をする。</dd>
  <dt>3. 辞書攻撃によるパスワード入手</dt>
  <dd>[対策]一定回数ログイン試行失敗によるアカウントロック機能の実装</dd>
  <dt>4. 「1234」などありがちな簡易パスワードを推測される</dt>
  <dd>[対策]予測困難なパスワードポリシーの設定</dd>
</dl>

# アカウント管理
<dl>
  <dt>1. パスワードが異なれば同じユーザーIDで登録できる脆弱性</dt>
  <dd>[対策]　idの一意制約をつける。DBのユーザー管理テーブル作成時にIDカラムに一意制約を設定する。</dd>
  <dt>2. その他</dt>
  <dd>パスワード変更時に登録メールアドレスに通知</dd>
</dl>

# 認可
<dl>
  <dt>1. リソースのURLさえ知っていれば誰でも他人や管理者マイページにアクセスできる脆弱性</dt>
  <dd>[対策]　</dd>
  <dt>2. heddenパラメータやクッキーに権限情報を保持している</dt>
  <dd>[対策]　書き換え可能なため、権限情報はセッションに保持する。また、権限を必要とする処理の直前権限のを逐一確認する必要がある。</dd>
</dl>

~# ログ出力~ 



